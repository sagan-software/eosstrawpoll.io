// Generated by BUCKLESCRIPT VERSION 3.1.5, PLEASE EDIT WITH CARE
'use strict';

var Block = require("bs-platform/lib/js/block.js");
var Js_list = require("bs-platform/lib/js/js_list.js");
var Belt_List = require("bs-platform/lib/js/belt_List.js");
var Env$ReactTemplate = require("./Env/Env.js");

function fromList(parts) {
  if (parts) {
    var accountName = parts[0];
    var exit = 0;
    if (accountName === "about" && !parts[1]) {
      return /* About */1;
    } else {
      exit = 1;
    }
    if (exit === 1) {
      var match = parts[1];
      if (match) {
        var match$1 = match[1];
        var pollId = match[0];
        if (match$1) {
          if (match$1[0] === "results" && !match$1[1]) {
            return /* PollResults */Block.__(2, [
                      accountName,
                      pollId
                    ]);
          } else {
            return /* Home */0;
          }
        } else {
          return /* Poll */Block.__(1, [
                    accountName,
                    pollId
                  ]);
        }
      } else {
        return /* Profile */Block.__(0, [accountName]);
      }
    }
    
  } else {
    return /* Home */0;
  }
}

function fromUrl(url) {
  return fromList(url[/* path */0]);
}

function fromString(str) {
  return fromList(Js_list.filter((function (str) {
                    return str !== "";
                  }), Belt_List.fromArray(str.split("/"))));
}

function toString(route) {
  if (typeof route === "number") {
    if (route === 0) {
      return "/";
    } else {
      return "/about";
    }
  } else {
    switch (route.tag | 0) {
      case 0 : 
          return "/" + route[0];
      case 1 : 
          return "/" + (route[0] + ("/" + route[1]));
      case 2 : 
          return "/" + (route[0] + ("/" + (route[1] + "/results")));
      
    }
  }
}

function toAbsolute(route) {
  return Env$ReactTemplate.siteUrl + toString(route);
}

exports.fromList = fromList;
exports.fromUrl = fromUrl;
exports.fromString = fromString;
exports.toString = toString;
exports.toAbsolute = toAbsolute;
/* Env-ReactTemplate Not a pure module */
